<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Candy - ¬øQuieres ser mi San Valent√≠n?</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Comic Sans MS', cursive, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      background: linear-gradient(270deg, #ff99cc, #ff66b2, #cc66ff, #ff3366);
      background-size: 800% 800%;
      animation: gradiente 15s ease infinite;
    }

    @keyframes gradiente {
      0% {background-position:0% 50%;}
      50% {background-position:100% 50%;}
      100% {background-position:0% 50%;}
    }

    .contenido {
      text-align: center;
      background-color: rgba(255, 255, 255, 0.85);
      padding: 40px;
      border-radius: 30px;
      z-index: 2;
      position: relative;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    h1 {
      color: #ff3399;
      font-size: 48px;
      margin-bottom: 40px;
      line-height: 1.4;
      text-shadow: 2px 2px 4px rgba(255,51,153,0.3);
      transition: opacity 1s ease;
    }

    .botones {
      margin-top: 20px;
      position: relative;
      min-height: 80px;
      display: flex;
      gap: 10px;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
    }

    button {
      padding: 15px 30px;
      font-size: 28px;
      border: none;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 10px;
      font-family: inherit;
    }

    #si {
      background-color: #ff66b2;
      color: white;
      position: relative;
      z-index: 3;
    }

    #si:hover {
      background-color: #ff3399;
      transform: scale(1.1);
    }

    #no {
      background-color: #cccccc;
      color: black;
      position: fixed;
      z-index: 2;
      transition: all 0.1s ease;
    }

    #no:hover {
      background-color: #999999;
    }

    #controlMusica {
      background-color: #cc66ff;
      color: white;
      font-size: 40px;
      border-radius: 50%;
      width: 80px;
      height: 80px;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 3;
      position: absolute;
      bottom: 20px;
      right: 20px;
      padding: 0;
    }

    #controlMusica:hover {
      background-color: #aa44dd;
      transform: scale(1.1);
    }

    #btnVerSorpresa {
      background-color: #ff3399;
      color: white;
      font-size: 28px;
      padding: 15px 40px;
    }

    #btnVerSorpresa:hover {
      background-color: #ff66b2;
      transform: scale(1.1);
    }

    .corazon {
      position: fixed;
      font-size: 40px;
      animation: flotar 3s linear forwards;
      pointer-events: none;
      z-index: 1000;
    }

    @keyframes flotar {
      0% { transform: translate(0,0) scale(1); opacity: 1; }
      100% { transform: translate(var(--x), var(--y)) scale(var(--scale)); opacity: 0; }
    }

    .confeti {
      position: fixed;
      width: 10px;
      height: 10px;
      background-color: var(--color);
      animation: caerConfeti 3s linear forwards;
      pointer-events: none;
      z-index: 1000;
    }

    @keyframes caerConfeti {
      0% { 
        transform: translateY(0) rotateZ(0deg);
        opacity: 1;
      }
      100% { 
        transform: translateY(100vh) rotateZ(720deg);
        opacity: 0;
      }
    }

    .estrella {
      position: fixed;
      font-size: 30px;
      animation: flotar 4s linear forwards;
      pointer-events: none;
      z-index: 1000;
    }

    .fecha-especial {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 18px;
      color: #ff3399;
      opacity: 0.8;
      z-index: 10;
    }

    .mensaje-final {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, 0.95);
      padding: 40px;
      border-radius: 30px;
      text-align: center;
      z-index: 2000;
      box-shadow: 0 10px 50px rgba(255, 51, 153, 0.5);
      opacity: 0;
      transition: opacity 1s ease;
      max-width: 90%;
      max-height: 90vh;
      overflow-y: auto;
      font-family: 'Comic Sans MS', cursive, sans-serif;
    }

    .mensaje-final h2 {
      color: #ff3399;
      font-size: 36px;
      margin-bottom: 20px;
      font-family: 'Comic Sans MS', cursive, sans-serif;
    }

    .mensaje-final p {
      color: #ff3399;
      font-size: 24px;
      line-height: 1.6;
      font-family: 'Comic Sans MS', cursive, sans-serif;
    }

    .btn-compartir {
      background: linear-gradient(45deg, #ff3399, #ff66b2);
      color: white;
      padding: 12px 30px;
      font-size: 20px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      margin-top: 20px;
      transition: transform 0.3s;
    }

    .btn-compartir:hover {
      transform: scale(1.05);
    }

    .mensaje {
      position: fixed;
      bottom: 20%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 50px;
      font-weight: bold;
      color: #ffffff;
      text-shadow: 3px 3px 10px #ff0066, -1px -1px 5px #ff66b2;
      animation: aparecer 3s ease forwards;
      z-index: 999;
      white-space: nowrap;
    }

    @keyframes aparecer {
      0% { opacity: 0; transform: translateX(-50%) scale(0.5); }
      50% { opacity: 1; transform: translateX(-50%) scale(1.2); }
      100% { opacity: 0; transform: translateX(-50%) scale(1); }
    }

    /* Responsive */
    @media (max-width: 600px) {
      h1 {
        font-size: 32px;
      }
      button {
        font-size: 20px;
        padding: 12px 24px;
      }
      #controlMusica {
        width: 60px;
        height: 60px;
        font-size: 30px;
      }
      .mensaje {
        font-size: 32px;
      }
      .mensaje-final {
        padding: 30px 20px;
        max-width: 95%;
      }
      .mensaje-final h2 {
        font-size: 28px;
      }
      .mensaje-final p {
        font-size: 18px;
        line-height: 1.5;
      }
      .fecha-especial {
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <div class="contenido">
    <div class="fecha-especial">üíï 14 de Febrero 2026 üíï</div>
    
    <div id="pantallaSorpresa" style="transition: opacity 0.5s ease;">
      <h1>Candy üíñ</h1>
      <p style="font-size: 28px; color: #ff3399; margin: 30px 0; line-height: 1.6;">
        Amor, te tengo una sorpresa,<br>si quieres verla dale clic al bot√≥n üíù
      </p>
      <button id="btnVerSorpresa">Ver sorpresa ‚ú®</button>
    </div>
    
    <div id="pantallaValentin" style="display: none; opacity: 0; transition: opacity 0.5s ease;">
      <h1>Candy üíñ<br>¬øQuieres ser mi San Valent√≠n?</h1>
      <div class="botones">
        <button id="si">¬°S√≠!</button>
        <button id="no">No</button>
      </div>
    </div>
    
    <button id="controlMusica" aria-label="Control de m√∫sica">üéµ</button>
  </div>

  <div class="mensaje-final" id="mensajeFinal">
    <h2>¬°Eres mi todo! üíñ</h2>
    <p>
      Cada momento contigo es especial.<br>
      Desde ese 16 de septiembre mi amor no ha hecho nada m√°s que crecer por ti.<br>
      Te amo m√°s de lo que las palabras pueden expresar.<br>
      Gracias por ser mi San Valent√≠n. üíï
    </p>
    <p style="margin-top: 20px; font-size: 22px; font-style: italic;">
      Atte: Harold ‚ù§Ô∏è
    </p>
  </div>

  <!-- M√∫sica local (autoplay puede no funcionar en algunos navegadores) -->
  <audio id="musica" src="perfect.mp3" loop></audio>

  <script>
    const noBtn = document.getElementById("no");
    const siBtn = document.getElementById("si");
    const musica = document.getElementById("musica");
    const controlBtn = document.getElementById("controlMusica");
    const pantallaSorpresa = document.getElementById("pantallaSorpresa");
    const pantallaValentin = document.getElementById("pantallaValentin");
    const btnVerSorpresa = document.getElementById("btnVerSorpresa");
    const mensajeFinal = document.getElementById("mensajeFinal");
    
    let escapeCount = 0; // Contador para hacer el bot√≥n "No" m√°s peque√±o

    // Intentar reproducir m√∫sica al cargar (manejar autoplay)
    window.addEventListener('load', () => {
      musica.play().catch(() => {
        // Si autoplay falla, cambiar icono para que usuario active m√∫sica
        controlBtn.textContent = "üéµ";
      });
    });

    // Bot√≥n "Ver sorpresa" - cambia a pantalla de San Valent√≠n
    btnVerSorpresa.addEventListener("click", () => {
      // Reproducir m√∫sica al dar clic
      musica.play().catch(() => {
        console.log('No se pudo reproducir la m√∫sica autom√°ticamente');
      });
      controlBtn.textContent = "üéµ";
      
      pantallaSorpresa.style.opacity = '0';
      setTimeout(() => {
        pantallaSorpresa.style.display = 'none';
        pantallaValentin.style.display = 'block';
        setTimeout(() => {
          pantallaValentin.style.opacity = '1';
        }, 50);
      }, 500);
    });

    // Posicionar bot√≥n "No" inicialmente
    function posicionarBotonNo() {
      const contenidoRect = document.querySelector('.contenido').getBoundingClientRect();
      noBtn.style.left = (contenidoRect.left + contenidoRect.width/2 + 100) + "px";
      noBtn.style.top = (contenidoRect.top + contenidoRect.height/2 + 50) + "px";
    }
    posicionarBotonNo();
    window.addEventListener('resize', posicionarBotonNo);

    // Bot√≥n "No" que se escapa
    noBtn.addEventListener("mouseenter", escapar);
    noBtn.addEventListener("touchstart", escapar);

    function escapar() {
      escapeCount++;
      const margen = 100;
      const maxX = window.innerWidth - noBtn.offsetWidth - margen;
      const maxY = window.innerHeight - noBtn.offsetHeight - margen;
      
      const x = Math.max(margen, Math.floor(Math.random() * maxX));
      const y = Math.max(margen, Math.floor(Math.random() * maxY));
      
      noBtn.style.left = x + "px";
      noBtn.style.top = y + "px";
      
      // Hacer el bot√≥n m√°s peque√±o cada vez (hasta un m√≠nimo)
      const nuevoTamano = Math.max(14, 28 - escapeCount * 2);
      noBtn.style.fontSize = nuevoTamano + "px";
      noBtn.style.padding = Math.max(8, 15 - escapeCount) + "px " + Math.max(15, 30 - escapeCount * 2) + "px";
    }

    // Bot√≥n "S√≠"
    siBtn.addEventListener("click", celebrar);
    
    function celebrar() {
      // Bajar volumen de m√∫sica para los mensajes
      musica.volume = 0.3;
      setTimeout(() => {
        musica.volume = 1;
      }, 12000);
      
      // Cambiar color de fondo
      document.body.style.background = 'linear-gradient(270deg, #ff66b2, #ff99cc, #ffccee, #ff3399)';
      
      // Ocultar botones S√≠ y No
      siBtn.style.opacity = '0';
      noBtn.style.opacity = '0';
      setTimeout(() => {
        siBtn.style.display = 'none';
        noBtn.style.display = 'none';
      }, 300);
      
      // Cambiar el texto principal con transici√≥n
      const titulo = document.querySelector('#pantallaValentin h1');
      titulo.style.opacity = '0';
      
      setTimeout(() => {
        titulo.innerHTML = "Candy üíñ<br>Te amo mi vida";
        titulo.style.opacity = '1';
      }, 1000);
      
      // Mostrar mensajes rom√°nticos uno tras otro
      const frases = ["Te amo, Candy üíï", "Eres mi todo ‚ù§Ô∏è", "Siempre contigo üíú"];
      frases.forEach((texto, i) => {
        setTimeout(() => {
          mostrarMensaje(texto);
        }, i * 3500);
      });

      // Corazones animados desde el bot√≥n
      const rect = siBtn.getBoundingClientRect();
      const x = rect.left + rect.width / 2;
      const y = rect.top + rect.height / 2;
      crearCorazones(x, y, 15);
      
      // Confeti
      crearConfeti();
      setTimeout(() => crearConfeti(), 1500);
      
      // Estrellas
      setTimeout(() => crearEstrellas(), 500);
      setTimeout(() => crearEstrellas(), 2000);
      
      // Mostrar mensaje final despu√©s de todo
      setTimeout(() => {
        mensajeFinal.style.display = 'block';
        setTimeout(() => {
          mensajeFinal.style.opacity = '1';
        }, 100);
      }, 12000);
    }

    function mostrarMensaje(texto) {
      const mensaje = document.createElement("div");
      mensaje.classList.add("mensaje");
      mensaje.textContent = texto;
      document.body.appendChild(mensaje);
      setTimeout(() => mensaje.remove(), 3000);
    }

    function crearCorazones(x, y, cantidad) {
      const emojis = ["‚ù§Ô∏è", "üíñ", "üíú", "üíï", "üíó"];
      for (let i = 0; i < cantidad; i++) {
        setTimeout(() => {
          const corazon = document.createElement("div");
          corazon.classList.add("corazon");
          corazon.textContent = emojis[Math.floor(Math.random() * emojis.length)];

          corazon.style.left = (x + (Math.random() * 100 - 50)) + "px";
          corazon.style.top = y + "px";

          const desplazamientoX = (Math.random() * 300 - 150) + "px";
          const desplazamientoY = (-250 - Math.random() * 150) + "px";
          const escala = (Math.random() * 1.5 + 0.5).toFixed(2);

          corazon.style.setProperty("--x", desplazamientoX);
          corazon.style.setProperty("--y", desplazamientoY);
          corazon.style.setProperty("--scale", escala);

          document.body.appendChild(corazon);

          setTimeout(() => corazon.remove(), 3000);
        }, i * 100);
      }
    }

    function crearConfeti() {
      const colores = ['#ff3399', '#ff66b2', '#cc66ff', '#ff99cc', '#ffcc00', '#00ffcc'];
      for (let i = 0; i < 50; i++) {
        setTimeout(() => {
          const confeti = document.createElement("div");
          confeti.classList.add("confeti");
          confeti.style.setProperty("--color", colores[Math.floor(Math.random() * colores.length)]);
          confeti.style.left = Math.random() * window.innerWidth + "px";
          confeti.style.top = -10 + "px";
          document.body.appendChild(confeti);
          setTimeout(() => confeti.remove(), 3000);
        }, i * 30);
      }
    }

    function crearEstrellas() {
      const emojis = ["‚ú®", "‚≠ê", "üåü", "üí´"];
      for (let i = 0; i < 8; i++) {
        setTimeout(() => {
          const estrella = document.createElement("div");
          estrella.classList.add("estrella");
          estrella.textContent = emojis[Math.floor(Math.random() * emojis.length)];

          estrella.style.left = Math.random() * window.innerWidth + "px";
          estrella.style.top = Math.random() * window.innerHeight + "px";

          const desplazamientoX = (Math.random() * 200 - 100) + "px";
          const desplazamientoY = (-200 - Math.random() * 100) + "px";
          const escala = (Math.random() * 1.5 + 0.5).toFixed(2);

          estrella.style.setProperty("--x", desplazamientoX);
          estrella.style.setProperty("--y", desplazamientoY);
          estrella.style.setProperty("--scale", escala);

          document.body.appendChild(estrella);

          setTimeout(() => estrella.remove(), 4000);
        }, i * 100);
      }
    }

    // Bot√≥n de control de m√∫sica
    controlBtn.addEventListener("click", () => {
      if (musica.paused) {
        musica.play();
        controlBtn.textContent = "üéµ";
      } else {
        musica.pause();
        controlBtn.textContent = "‚è∏";
      }
    });

    // Corazones flotando constantemente en el fondo
    setInterval(() => {
      const emojis = ["‚ù§Ô∏è", "üíñ", "üíú", "üíï"];
      const corazon = document.createElement("div");
      corazon.classList.add("corazon");
      corazon.textContent = emojis[Math.floor(Math.random() * emojis.length)];

      corazon.style.left = Math.random() * window.innerWidth + "px";
      corazon.style.top = window.innerHeight + "px";

      const desplazamientoX = (Math.random() * 200 - 100) + "px";
      const desplazamientoY = (-350 - Math.random() * 250) + "px";
      const escala = (Math.random() * 1.5 + 0.5).toFixed(2);

      corazon.style.setProperty("--x", desplazamientoX);
      corazon.style.setProperty("--y", desplazamientoY);
      corazon.style.setProperty("--scale", escala);

      document.body.appendChild(corazon);

      setTimeout(() => corazon.remove(), 4000);
    }, 1200);
  </script>
</body>
</html>
